install.packages("prophet")
library(prophet)
library(dplyr)
##download data from https://www.quandl.com/data/ODA/POILWTI_USD-WTI-Crude-Oil-Price ##
##format data into ds/y format##
df<-read.csv('oil.csv')
head(df)
newdf <- df %>%mutate(y = log(y))
newDates<-as.Date(newdf$ds,"%m/%d/%Y")
head(newDates)
anewdf<-data.frame(newDates, newdf$y)
colnames(anewdf) <- c("ds", "y")
head(anewdf)
m <- prophet(anewdf)
future <- make_future_dataframe(m, periods = 120, freq = 'm')
tail(future)
future
forecast <- predict(m, future)
head(forecast)
tail(forecast[c('ds', 'y', yhat', 'yhat_lower', 'yhat_upper')])
plot(m, forecast)
prophet_plot_components(m, forecast)
